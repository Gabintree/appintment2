<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë³‘ì› ì˜ˆì•½ ì‹œìŠ¤í…œ - í™˜ì ëŒ€ì‹œë³´ë“œ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            height: 100vh;
        }
        .sidebar {
            width: 200px;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
            padding: 20px;
            flex-shrink: 0;
        }
        .sidebar h2 {
            margin-bottom: 20px;
        }
        .sidebar ul {
            list-style-type: none;
            padding: 0;
        }
        .sidebar li {
            margin-bottom: 10px;
        }
        .sidebar a {
            text-decoration: none;
            color: #333;
        }
        .main-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            border-bottom: 1px solid #dee2e6;
            background-color: #f8f9fa;
            height: 60px;
            box-sizing: border-box;
        }
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #007bff;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .content-area {
            display: flex;
            flex-direction: column;
            flex: 1;
            overflow: hidden;
        }
        .top-section, .bottom-section {
            flex: 1;
            overflow-y: auto;
            padding: 0 20px;
        }
        .top-section {
            display: flex;
            border-bottom: 1px solid #dee2e6;
        }
        .left-content {
            flex: 3;
            padding-right: 20px;
            border-right: 1px solid #dee2e6;
        }
        .right-content {
            flex: 1;
            padding-left: 20px;
        }
        .search-options {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .search-option {
            flex: 1;
            min-width: 0;
        }
        input[type="date"] {
        width: 100%;
        padding: 10px;
        background-color: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 4px;
        cursor: pointer;
        text-align: left;
        font-size: 14px;
        font-family: Arial, sans-serif;
        height: 40px;
        box-sizing: border-box;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
    }
    input[type="date"]::-webkit-calendar-picker-indicator {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        color: transparent;
        background: transparent;
        cursor: pointer;
    }
    .date-input input[type="date"] {
        width: auto;
        margin-left: 5px;
    }
        .dropdown {
            position: relative;
            width: 100%;
        }
        .dropbtn {
            width: 100%;
            padding: 10px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            cursor: pointer;
            text-align: left;
            font-size: 14px;
            height: 40px;
            box-sizing: border-box;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
        }
        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
        .dropdown-content a:hover {background-color: #f1f1f1}
        .show {display:block;}
        .search-button {
            padding: 10px 15px;
            background-color: #eaf4ff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            height: 40px;
            box-sizing: border-box;
        }
        .hospital-card {
            border: 1px solid #dee2e6;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 4px;
        }
        .date-range {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }
        .date-input {
            display: flex;
            align-items: center;
        }
        .date-input label {
            margin-right: 5px;
            white-space: nowrap;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #dee2e6;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2>ë©”ë‰´</h2>
        <ul>
            <li><a href="#hospitals">ë³‘ì› ëª©ë¡</a></li>
            <li><a href="#appointments">ì˜ˆì•½ ë‚´ì—­</a></li>
            <li><a href="#manage">ì˜ˆì•½ ê´€ë¦¬</a></li>
        </ul>
    </div>
    <div class="main-content">
        <div class="header">
            <div class="welcome-message">ì–´ì„œì˜¤ì„¸ìš”, ì—¬ìˆ˜ì—°ë‹˜</div>
            <div class="user-info">
                <a href="#mypage">ë§ˆì´í˜ì´ì§€</a>
                <div class="user-avatar">YSY</div>
                <span>ì—¬ìˆ˜ì—°ë‹˜</span>
            </div>
        </div>
        <div class="content-area">
            <div class="top-section">
                <div class="left-content">
                    <h1>í™˜ì ëŒ€ì‹œë³´ë“œ</h1>
                    <div class="dashboard-section" id="hospitals">
                        <h2>ë³‘ì› ëª©ë¡</h2>
                        <div class="search-options">
                            <div class="search-option">
                                <div class="dropdown">
                                    <button onclick="toggleDropdown('city')" class="dropbtn">ì‹œ/ë„ ì„ íƒ</button>
                                    <div id="cityDropdown" class="dropdown-content">
                                        <a href="#" onclick="selectOption('city', 'ì„œìš¸')">ì„œìš¸</a>
                                        <a href="#" onclick="selectOption('city', 'ê²½ê¸°')">ê²½ê¸°</a>
                                        <!-- ë‹¤ë¥¸ ì‹œ/ë„ ì˜µì…˜ë“¤ -->
                                    </div>
                                </div>
                            </div>
                            <div class="search-option">
                                <div class="dropdown">
                                    <button onclick="toggleDropdown('district')" class="dropbtn">êµ¬/êµ° ì„ íƒ</button>
                                    <div id="districtDropdown" class="dropdown-content">
                                        <a href="#" onclick="selectOption('district', 'ê°•ë‚¨êµ¬')">ê°•ë‚¨êµ¬</a>
                                        <a href="#" onclick="selectOption('district', 'ì„œì´ˆêµ¬')">ì„œì´ˆêµ¬</a>
                                        <!-- ë‹¤ë¥¸ êµ¬/êµ° ì˜µì…˜ë“¤ -->
                                    </div>
                                </div>
                            </div>
                            <div class="search-option">
                                <div class="dropdown">
                                    <button onclick="toggleDropdown('department')" class="dropbtn">ì§„ë£Œê³¼ëª© ì„ íƒ</button>
                                    <div id="departmentDropdown" class="dropdown-content">
                                        <a href="#" onclick="selectOption('department', 'ë‚´ê³¼')">ë‚´ê³¼</a>
                                        <a href="#" onclick="selectOption('department', 'ì™¸ê³¼')">ì™¸ê³¼</a>
                                        <!-- ë‹¤ë¥¸ ì§„ë£Œê³¼ëª© ì˜µì…˜ë“¤ -->
                                    </div>
                                </div>
                            </div>
                            <div class="search-option">
                                <div class="dropdown">
                                    <input type="date" id="dateInput" class="dropbtn" onchange="selectDate(this.value)">
                                </div>
                            </div>
                            <div class="search-option">
                                <div class="dropdown">
                                    <button onclick="toggleDropdown('time')" class="dropbtn">ì‹œê°„ ì„ íƒ</button>
                                    <div id="timeDropdown" class="dropdown-content">
                                        <!-- ì‹œê°„ ì˜µì…˜ë“¤ì€ JavaScriptë¡œ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                                    </div>
                                </div>
                            </div>
                            <button class="search-button" onclick="searchHospitals()">ğŸ”</button>
                        </div>
                        <div class="hospital-list" id="hospital-results">
                            <!-- ë³‘ì› ê²€ìƒ‰ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>
                <div class="right-content">
                    <div class="dashboard-section" id="summary">
                        <h2>ì˜ˆì•½ ìš”ì•½</h2>
                        <p>ì´ ì˜ˆì•½ ê±´ìˆ˜: 3ê±´</p>
                        <p>ë‹¤ìŒ ì˜ˆì•½: 2024ë…„ 3ì›” 20ì¼</p>
                    </div>
                </div>
            </div>
            <div class="bottom-section">
                <div class="dashboard-section" id="appointments">
                    <h2>ì˜ˆì•½ ë‚´ì—­</h2>
                    <div class="date-range">
                        <div class="date-input">
                            <label for="start-date">ì‹œì‘ì¼</label>
                            <input type="date" id="start-date" name="start-date">
                        </div>
                        <div class="date-input">
                            <label for="end-date">ì¢…ë£Œì¼</label>
                            <input type="date" id="end-date" name="end-date">
                        </div>
                        <button onclick="filterAppointments()">ì¡°íšŒ</button>
                    </div>
                    <table id="appointments-table">
                        <thead>
                            <tr>
                                <th>ë‚ ì§œ</th>
                                <th>ì‹œê°„</th>
                                <th>ë³‘ì›</th>
                                <th>ì§„ë£Œê³¼</th>
                                <th>ìƒíƒœ</th>
                                <th>ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody id="appointments-body">
                            <!-- ì˜ˆì•½ ë‚´ì—­ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì˜ˆì‹œ ì˜ˆì•½ ë°ì´í„°
        const appointments = [
            { date: '2024-03-20', time: '14:00', hospital: 'ì„œìš¸ ì¤‘ì•™ ë³‘ì›', department: 'ë‚´ê³¼', status: 'ì˜ˆì•½ ì™„ë£Œ' },
            { date: '2024-03-25', time: '10:30', hospital: 'ê°•ë‚¨ ì„¸ë¸Œë€ìŠ¤ ë³‘ì›', department: 'ì •í˜•ì™¸ê³¼', status: 'ì˜ˆì•½ ì™„ë£Œ' },
            { date: '2024-04-05', time: '11:00', hospital: 'ë¶€ì‚° ëŒ€í•™ ë³‘ì›', department: 'í”¼ë¶€ê³¼', status: 'ì˜ˆì•½ ì™„ë£Œ' },
            { date: '2024-08-15', time: '09:30', hospital: 'ì„œìš¸ ì•„ì‚° ë³‘ì›', department: 'ì•ˆê³¼', status: 'ì˜ˆì•½ ì™„ë£Œ' },
            { date: '2024-09-01', time: '13:00', hospital: 'ì—°ì„¸ ì„¸ë¸Œë€ìŠ¤ ë³‘ì›', department: 'ì´ë¹„ì¸í›„ê³¼', status: 'ì˜ˆì•½ ì™„ë£Œ' }
        ];

        // ì˜ˆì•½ëœ ì‹œê°„ ì˜ˆì‹œ (ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤)
        const bookedTimes = ['10:00', '14:30', '16:00'];

        function toggleDropdown(id) {
            document.getElementById(id + "Dropdown").classList.toggle("show");
        }

        function selectOption(type, value) {
            document.querySelector(`#${type}Dropdown`).previousElementSibling.textContent = value;
            document.querySelector(`#${type}Dropdown`).classList.remove("show");
            searchHospitals();
        }

        function selectDate(value) {
            document.querySelector('#dateDropdown').previousElementSibling.textContent = value;
            document.querySelector('#dateDropdown').classList.remove("show");
            searchHospitals();
        }

        function selectDate(value) {
        document.getElementById('dateInput').value = value;
        searchHospitals();
    }

        function generateTimeOptions() {
            const timeDropdown = document.getElementById('timeDropdown');
            timeDropdown.innerHTML = ''; // ê¸°ì¡´ ì˜µì…˜ ì´ˆê¸°í™”

            for (let hour = 9; hour < 18; hour++) {
                for (let minute = 0; minute < 60; minute += 30) {
                    const time = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
                    const isBooked = bookedTimes.includes(time);
                    const option = document.createElement('a');
                    option.href = '#';
                    option.textContent = time;
                    if (isBooked) {
                        option.classList.add('disabled');
                    } else {
                        option.onclick = function() { selectTime(time); };
                    }
                    timeDropdown.appendChild(option);
                }
            }
        }

        function selectTime(time) {
            document.querySelector('#timeDropdown').previousElementSibling.textContent = time;
            document.querySelector('#timeDropdown').classList.remove("show");
            searchHospitals();
        }
        function selectDate(value) {
        document.getElementById('dateInput').value = value;
        searchHospitals();
    }

    function searchHospitals() {
        const city = document.querySelector('.search-options .dropbtn:nth-of-type(1)').textContent;
        const district = document.querySelector('.search-options .dropbtn:nth-of-type(2)').textContent;
        const department = document.querySelector('.search-options .dropbtn:nth-of-type(3)').textContent;
        const date = document.getElementById('dateInput').value;
        const time = document.querySelector('.search-options .dropbtn:nth-of-type(5)').textContent;
            // ì—¬ê¸°ì„œ ì‹¤ì œë¡œëŠ” ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ ë³‘ì› ëª©ë¡ì„ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.
            // ì§€ê¸ˆì€ ì˜ˆì‹œë¡œ ê°„ë‹¨í•œ ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
            const results = `
                <div class="hospital-card">
                    <h3>ì„œìš¸ ì¤‘ì•™ ë³‘ì›</h3>
         
  <p>ì§„ë£Œê³¼ëª©: ${department !== 'ì§„ë£Œê³¼ëª© ì„ íƒ' ? department : 'ëª¨ë“  ê³¼ëª©'}</p>
                    <p>ìœ„ì¹˜: ${city !== 'ì‹œ/ë„ ì„ íƒ' ? city : ''} ${district !== 'êµ¬/êµ° ì„ íƒ' ? district : ''}</p>
                    <p>ë‚ ì§œ: ${date !== 'ë‚ ì§œ ì„ íƒ' ? date : 'ë‚ ì§œ ë¯¸ì§€ì •'}</p>
                    <p>ì‹œê°„: ${time !== 'ì‹œê°„ ì„ íƒ' ? time : 'ì‹œê°„ ë¯¸ì§€ì •'}</p>
                </div>
            `;

            document.getElementById('hospital-results').innerHTML = results;
        }

        function filterAppointments() {
            const startDate = document.getElementById('start-date').value;
            const endDate = document.getElementById('end-date').value;
            
            const filteredAppointments = appointments.filter(appointment => {
                return appointment.date >= startDate && appointment.date <= endDate;
            });

            displayAppointments(filteredAppointments);
        }

        function displayAppointments(appointmentsToDisplay) {
            const tbody = document.getElementById('appointments-body');
            tbody.innerHTML = '';

            appointmentsToDisplay.forEach(appointment => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${appointment.date}</td>
                    <td>${appointment.time}</td>
                    <td>${appointment.hospital}</td>
                    <td>${appointment.department}</td>
                    <td>${appointment.status}</td>
                    <td>
                        <button onclick="changeAppointment('${appointment.date}', '${appointment.time}')">ë³€ê²½</button>
                        <button onclick="cancelAppointment('${appointment.date}', '${appointment.time}')">ì·¨ì†Œ</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function changeAppointment(date, time) {
            alert(`${date} ${time} ì˜ˆì•½ì„ ë³€ê²½í•©ë‹ˆë‹¤.`);
            // ì—¬ê¸°ì— ì˜ˆì•½ ë³€ê²½ ë¡œì§ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
        }

        function cancelAppointment(date, time) {
            alert(`${date} ${time} ì˜ˆì•½ì„ ì·¨ì†Œí•©ë‹ˆë‹¤.`);
            // ì—¬ê¸°ì— ì˜ˆì•½ ì·¨ì†Œ ë¡œì§ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
        }

        // ì „ì—­ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        window.onclick = function(event) {
        if (!event.target.matches('.dropbtn') && !event.target.matches('input[type="date"]')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            for (var i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }
    }


        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ë°ì´í„° í‘œì‹œ ë° ì‹œê°„ ì˜µì…˜ ìƒì„±
        window.onload = function() {
            displayAppointments(appointments);
            generateTimeOptions();
            searchHospitals();
        };
    </script>
</body>
</html>